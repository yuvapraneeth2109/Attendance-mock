{"ast":null,"code":"var _jsxFileName = \"/Users/harshameghanamacha/Library/CloudStorage/OneDrive-Personal/Desktop/SIGMA-DEVELOPMENT/PROJECT_p/frontend/src/App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { startSession, getSession, checkIn, endSession } from \"./api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _session$attendees;\n  const [subject, setSubject] = useState(\"\");\n  const [session, setSession] = useState(null);\n  const [rollNo, setRollNo] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  // Auto-refresh every 10s\n  useEffect(() => {\n    if (session !== null && session !== void 0 && session.session_id) {\n      const interval = setInterval(async () => {\n        const data = await getSession(session.session_id);\n        setSession(data);\n      }, 10000);\n      return () => clearInterval(interval);\n    }\n  }, [session]);\n  const handleStart = async () => {\n    const data = await startSession(subject);\n    setSession(data);\n    setMessage(\"Session started successfully!\");\n  };\n  const handleCheckIn = async () => {\n    if (!session) return;\n    const data = await checkIn(session.session_id, rollNo);\n    setSession(await getSession(session.session_id));\n    setMessage(`Checked in! Total attendees: ${data.total}`);\n    setRollNo(\"\");\n  };\n  const handleEnd = async () => {\n    if (!session) return;\n    await endSession(session.session_id);\n    setSession({\n      ...session,\n      status: \"ended\"\n    });\n    setMessage(\"Session ended.\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Attendance App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), !session && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: subject,\n        onChange: e => setSubject(e.target.value),\n        placeholder: \"Enter subject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleStart,\n        children: \"Start Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), session && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Session ID: \", session.session_id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Subject: \", session.subject]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Status: \", session.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Attendees: \", session.attendees_count]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), session.status === \"active\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: rollNo,\n          onChange: e => setRollNo(e.target.value),\n          placeholder: \"Enter Roll No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCheckIn,\n          children: \"Check In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEnd,\n          children: \"End Session\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: (_session$attendees = session.attendees) === null || _session$attendees === void 0 ? void 0 : _session$attendees.map(a => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [a.roll_no, \" - \", new Date(a.time).toLocaleTimeString()]\n        }, a.roll_no, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"green\"\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"zo6X2D6MqVSL1e/9zETLZHX13Gs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","startSession","getSession","checkIn","endSession","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_session$attendees","subject","setSubject","session","setSession","rollNo","setRollNo","message","setMessage","session_id","interval","setInterval","data","clearInterval","handleStart","handleCheckIn","total","handleEnd","status","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","onClick","attendees_count","attendees","map","a","roll_no","Date","time","toLocaleTimeString","color","_c","$RefreshReg$"],"sources":["/Users/harshameghanamacha/Library/CloudStorage/OneDrive-Personal/Desktop/SIGMA-DEVELOPMENT/PROJECT_p/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { startSession, getSession, checkIn, endSession } from \"./api\";\n\nfunction App() {\n  const [subject, setSubject] = useState(\"\");\n  const [session, setSession] = useState(null);\n  const [rollNo, setRollNo] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  // Auto-refresh every 10s\n  useEffect(() => {\n    if (session?.session_id) {\n      const interval = setInterval(async () => {\n        const data = await getSession(session.session_id);\n        setSession(data);\n      }, 10000);\n      return () => clearInterval(interval);\n    }\n  }, [session]);\n\n  const handleStart = async () => {\n    const data = await startSession(subject);\n    setSession(data);\n    setMessage(\"Session started successfully!\");\n  };\n\n  const handleCheckIn = async () => {\n    if (!session) return;\n    const data = await checkIn(session.session_id, rollNo);\n    setSession(await getSession(session.session_id));\n    setMessage(`Checked in! Total attendees: ${data.total}`);\n    setRollNo(\"\");\n  };\n\n  const handleEnd = async () => {\n    if (!session) return;\n    await endSession(session.session_id);\n    setSession({ ...session, status: \"ended\" });\n    setMessage(\"Session ended.\");\n  };\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <h1>Attendance App</h1>\n\n      {!session && (\n        <div>\n          <input\n            value={subject}\n            onChange={(e) => setSubject(e.target.value)}\n            placeholder=\"Enter subject\"\n          />\n          <button onClick={handleStart}>Start Session</button>\n        </div>\n      )}\n\n      {session && (\n        <div>\n          <h2>Session ID: {session.session_id}</h2>\n          <p>Subject: {session.subject}</p>\n          <p>Status: {session.status}</p>\n          <p>Attendees: {session.attendees_count}</p>\n\n          {session.status === \"active\" && (\n            <>\n              <input\n                value={rollNo}\n                onChange={(e) => setRollNo(e.target.value)}\n                placeholder=\"Enter Roll No\"\n              />\n              <button onClick={handleCheckIn}>Check In</button>\n              <button onClick={handleEnd}>End Session</button>\n            </>\n          )}\n\n          <ul>\n            {session.attendees?.map((a) => (\n              <li key={a.roll_no}>\n                {a.roll_no} - {new Date(a.time).toLocaleTimeString()}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n\n      {message && <p style={{ color: \"green\" }}>{message}</p>}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}